{% extends "layout.html" %}

{% block title %}Contact{% endblock %}

{% block main %}
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul class="flashes" style="color: red;">
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
        </ul>
    {% endif %}
    {% endwith %}
<p class="text-center">
    We're glad to hear from you! Please send us a message using the form below, and we'll get back to you as soon as possible.
</p>
<form method="post" action="/contact" class="text-center"style="width: 50%; margin: 0 auto;" id="contact-form">
    <div class="mb-3">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
    </div>
    
    <div>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    </div>

    <div>
        <label for="service">Service Requested</label>
        <select id="service" name="service">
            <option value="remodel">Remodel</option>
            <option value="construction">New Construction</option>
            <option value="repair">Repair or Replace</option>
            <option value="other">Other</option>
        </select>
    </div>

    <div>
        <label for="message">Message:</label>
        <textarea id="message" name="message" required></textarea>
    </div>

    <input type="hidden" id="g-recaptcha-response" name="g-recaptcha-response">
    <button class="btn btn-bd-primary" type="submit">Send</button>
</form>
<script>const RECAPTCHA_SITE_KEY = "{{ site_key }}";</script>
<script src="https://www.google.com/recaptcha/api.js?render={{ site_key}}" defer></script>
<script src="/static/verify-captcha.js" defer></script>
{% endblock %}